### SYSYEMD и основные команды

systemd - актуальная и широко используемая система инициализации и управления службами в Linux.
systemd — набор базовых строительных кирпичиков Linux-системы. Представляет собой менеджер системы и служб, который выполняется как процесс с PID 1 и запускает остальную часть системы. systemd обеспечивает возможности агрессивной параллелизации, сокет- и D-Bus-активацию для запуска служб, запуск демонов по запросу, отслеживание процессов с помощью контрольных групп Linux, обслуживание точек (авто)монтирования, а также предлагает развитую транзакционную логику управления службами на основе зависимостей. systemd поддерживает сценарии инициализации SysV и LSB и работает как замена sysvinit. 
Служба в Systemd описывается файлом юнита, в нем описано что с ней нужно делать и как себя вести. Существуют такие типы служб:

            service - обычная служба, программа
            target - группа служб
            automount - точка автоматического монтирования
            device - файл устройства, генерируется на этапе загрузки
            mount - точка монтирования
            path - файл или папка
            scope - процесс
            slice - группа системных служб systemd
            snapshot - сохраненное состояние запущенных служб
            socket - сокет для взаимодействия между процессами.

systemctl - Главная команда для работы с systemd — systemctl. 

Она позволяет (среди прочего) отлеживать состояние системы и управлять системой и службами. 

Перечень команд systemctl

	list-units - посмотреть все службы (юниты), аналог опции -t
	list-sockets - посмотреть все службы сокетов
	start - запустить службу linux
	stop - остановить службу linux
	reload - обновить конфигурацию службы из файла юнита
	restart - перезапустить службу
	try-restart - перезапустить службу, только если она запущена
	reload-or-restart - обновить конфигурацию затем выполнить перезапуск службы linux, если не поддерживается - только перезапустить
	isolate - запустить только одну службу вместе с ее зависимостями, все остальные остановить
	kill - отправить сигнал завершения процессу используется вместе с опциями --signal и --kill-who
	is-active - проверить запущена ли служба linux
	is-failed - проверить не завершилась ли служба с ошибкой
	status - посмотреть состояние и вывод службы
	show - посмотреть параметры управления службой в Linux
	reset-failed - перезапустить службы linux, завершившиеся с ошибкой
	list-dependencies - посмотреть зависимости службы linux
	list-unit-files - вывести все установленные файлы служб
	enable - добавить службу в автозагрузку
	disable - удалить службу из автозагрузки
	is-enabled - проверить если ли уже служба в автозагрузке
	reenable - сначала выполнить disable потом enable для службы
	list-jobs - все запущенные службы linux независимо от типа
	snapsot - сохранить состояние служб, чтобы потом восстановить
	daemon-reload - обновить конфигурацию всех служб
	mask - сделать юнит недоступным
	unmask - вернуть файл службы linux


### Утилита PS

PS - утилита, отображающая запущенные на данный момент процессы. Эта утилита выводит “снимок” состояния процессов.

У утилиты ps много разных ключей для манипуляции выводом информации, но полезными для ежедневной работы вы найдете не так много. 

Рассмотрим примеры с выводами и объяснениями:

        root# ps
        PID TTY          TIME CMD
        1883 pts/0    00:00:00 bash
        1888 pts/0    00:00:00 ps

Команда ps без ключей выводит информацию о запущенных процессах конкретной оболочки, в которой вы находитесь.

        root# ps -A

или

        root# ps -e

Выводит список всех активных процессов на Linux-системе в generic (Unix/Linux) формате. Та же самая команда, но вывод в BSD формате: ps au или ps aux (в зависимости оттого, какой вывод вам нужен).

        root# ps -x

Вывод всех процессов, владельцем которых является ваш пользователь (из под которого выполняется команда).

        root# ps -fu root

или

        root# ps -fU 0
        
Вывод процессов конкретного пользователя по его имени или ID.

        root# ps -e --forest

Вывод процессов в виде дерева (какие процессы от кого наследуются).

        root# ps -eo pid,user,cmd

Вывод процессов в кастомном формате вывода, где будут три колонки: ID процесса, пользователь и команда.

### OOM killer ([oom_reaper])

Он призван решать проблему нехватки памяти и как вы можете заменить из названия, весьма радикальными методами - “убийством” (SIGKILL) процессов, 
которые больше все тратят ресурсы оперативной памяти, когда она закончилась.

OOM killer работает, используя “рейтинг плохишей” (в оригинале: badness score). Каждому процессу он назначает очки от 0 до 1000 в зависимости от 
потребления оперативной памяти, после чего “убивает” процесс с наибольшим количеством очков. При необходимости, процесс можно защитить от убийцы, 
выставив минимальный рейтинг, но это чревато паникой ядра и последующим зависанием сервера.        

### Утилиты top, htop


